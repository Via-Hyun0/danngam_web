### 6.1 Test Scenarios

#### TS-001: 회원가입 및 인증

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|카카오 로그인 버튼 클릭|카카오 로그인 팝업 표시|☐|
|2|카카오 계정으로 로그인|인증 성공, UserProfile 자동 생성|☐|
|3|약관 동의 체크|체크박스 활성화|☐|
|4|로그인 완료|**메인 화면으로 즉시 이동** (역할 선택 제거)|☐|
|5|Apple 로그인 (iOS)|Apple Sign In 팝업 표시, 인증 성공|☐|

#### TS-002: 일감 등록

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|[+ 새 일감 등록] 탭|일감 등록 화면 1단계 (작물 선택)|☐|
|2|작물 선택|선택 하이라이트, [다음] 활성화|☐|
|3|일감 정보 입력 (제목, 기간, 급여)|필수 필드 채워질 때마다 [다음] 활성화|☐|
|4|위치 설정 (지도에서 핀 이동)|주소 자동 표시|☐|
|5|미리보기에서 [등록하기]|일감 Firestore 저장, "내 일감" 탭 목록에 표시|☐|
|6|등록된 일감 확인|status='active', conversationCount=0|☐|

#### TS-003: 일감 검색 및 조회

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|메인 화면 "일감 찾기" 탭 진입|위치 권한 요청|☐|
|2|위치 권한 허용|지도에 근처 일감 마커 표시|☐|
|3|마커 탭|미니 카드 팝업 (작물명, 거리, 급여)|☐|
|4|[상세보기] 탭|일감 상세 화면으로 이동|☐|
|5|리스트 뷰로 전환|거리순 정렬된 일감 목록 표시|☐|
|6|필터 적용 (작물, 거리, 급여)|조건에 맞는 일감만 표시|☐|
|7|자신이 등록한 일감 확인|목록에서 제외됨|☐|

#### TS-004: 메시지 대화 시작

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|일감 상세 화면에서 [메시지 보내기] 탭|대화방 생성 또는 기존 대화방 진입|☐|
|2|메시지 입력 및 전송|Messages 문서 생성, 상대방에게 푸시 알림|☐|
|3|선택형 답변 버튼 클릭|해당 텍스트가 메시지로 즉시 전송|☐|
|4|상대방이 메시지 전송|실시간으로 수신, 읽지 않은 카운트 증가|☐|
|5|푸시 알림 수신 (백그라운드)|알림 탭 시 대화방으로 이동|☐|
|6|동일 일감에 재메시지 시도|기존 대화방으로 이동|☐|
|7|하루 20건 초과 시도|"오늘은 더 이상 메시지를 보낼 수 없습니다" 에러|☐|
|8|자신이 등록한 일감에 메시지 시도|버튼 비활성화 또는 에러|☐|

#### TS-005: 계약서 생성 및 서명 (신규 - v1.7)

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|대화방에서 [계약서 작성] 탭 (작성자만)|계약서 작성 화면 표시|☐|
|2|계약 조건 입력|일감 정보 자동 입력, 작업 기간/급여/내용 입력|☐|
|3|약관 동의 후 [전송]|Contracts 문서 생성, 계약서 메시지 전송|☐|
|4|상대방이 계약서 메시지 확인|계약서 상세 화면으로 이동 가능|☐|
|5|상대방이 약관 동의 후 [서명하기]|participantSignature 업데이트, 푸시 알림 발송|☐|
|6|작성자가 [서명하기]|creatorSignature 업데이트|☐|
|7|양측 서명 완료|일감 status='contracted'로 변경, 계약 확정 알림|☐|
|8|계약 확정 후 일감 상태 확인|Jobs.status='contracted'|☐|

#### TS-006: 대화 목록 및 알림

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|메인 화면 "대화" 탭 선택|전체 대화 목록 표시 (최근 메시지 순)|☐|
|2|읽지 않은 메시지 확인|뱃지에 카운트 표시|☐|
|3|대화 항목 클릭|해당 대화방으로 진입|☐|
|4|"알림" 탭 선택|메시지 알림, 계약서 알림 등 표시|☐|
|5|알림 항목 클릭|관련 화면으로 이동 (대화방/계약서)|☐|

#### TS-007: 신고 및 자동 제재

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|일감 상세에서 [신고] 탭|신고 다이얼로그 표시|☐|
|2|신고 사유 선택, 내용 입력|Reports 문서 생성|☐|
|3|동일 대상 3건 누적|Cloud Function 자동 조치 트리거|☐|
|4|일감 신고 → 일감 숨김|status='deleted', 일감 목록에서 제거|☐|
|5|사용자 신고 → 계정 정지|isActive=false, 로그인 차단|☐|
|6|관리자 이메일 발송 확인|조치 내역 포함|☐|

#### TS-008: 오프라인 모드

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|네트워크 연결 끊기|앱 계속 사용 가능|☐|
|2|일감 목록 조회|캐시된 데이터 표시|☐|
|3|새 일감 등록 시도|"네트워크 연결을 확인해주세요" 메시지|☐|
|4|네트워크 재연결|자동 동기화, 새 데이터 로드|☐|

#### TS-009: 역할 통합 테스트 (신규 - v1.7)

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|회원가입 완료|메인 화면으로 즉시 이동 (역할 선택 없음)|☐|
|2|메인 화면 확인|"일감 찾기" / "내 일감" 탭 표시|☐|
|3|일감 등록|누구나 가능, creatorId에 본인 UID 저장|☐|
|4|자신이 등록한 일감 확인|"내 일감" 탭에 표시|☐|
|5|"일감 찾기"에서 자신의 일감 확인|목록에서 제외됨|☐|
|6|다른 사람의 일감에 메시지|정상 동작|☐|
|7|자신의 일감에 메시지 시도|버튼 비활성화 또는 차단|☐|

#### TS-010: 용어 통일 테스트 (신규 - v1.7)

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|앱 전체에서 "작업" 용어 검색|모두 "일감"으로 표시|☐|
|2|일감 등록 화면 확인|"일감 등록", "일감 제목" 등|☐|
|3|일감 상세 화면 확인|"일감 내용", "일감 기간" 등|☐|
|4|푸시 알림 내용 확인|"새로운 일감", "계약 확정" 등|☐|

#### TS-011: 컬러 시스템 테스트 (신규 - v1.7)

|Step|Action|Expected Result|Status|
|---|---|---|---|
|1|CTA 버튼 확인|Dan-Gam Orange (#EC6737) 배경|☐|
|2|활성 탭/선택 항목 확인|Dan-Gam Orange 강조|☐|
|3|내 메시지 말풍선 확인|Dan-Gam Orange 배경|☐|
|4|서브 요소 확인|Put-Gam Green (#95A543) 사용|☐|
|5|계약 완료 상태 확인|Put-Gam Green 아이콘/뱃지|☐|

### 6.2 Performance Testing

|Test Case|Target|Measurement Method|Status|
|---|---|---|---|
|앱 초기 로딩 시간|< 3초|스플래시 → 메인 화면 타이머|☐|
|Firestore 쿼리 응답 시간|< 1초|Firebase Performance Monitoring|☐|
|지도 렌더링 프레임률|60 FPS|Flutter DevTools|☐|
|이미지 로딩 시간|< 2초|네트워크 속도별 테스트|☐|
|푸시 알림 전송 시간|< 5초|트리거 → 수신 타이머|☐|
|계약서 생성 및 서명|< 2초|버튼 클릭 → 완료까지|☐|
|저사양 기기 (4GB RAM)|정상 동작|실제 기기 테스트|☐|
|저속 네트워크 (3G)|기본 기능 사용 가능|네트워크 제한 시뮬레이션|☐|

### 6.3 Security Testing

|Test Case|Expected Result|Status|
|---|---|---|
|미인증 사용자 Firestore 접근|PERMISSION_DENIED|☐|
|타인의 UserProfile 조회 시도|PERMISSION_DENIED|☐|
|타인의 일감 수정/삭제 시도|PERMISSION_DENIED|☐|
|타인의 계약서 조회 시도|PERMISSION_DENIED|☐|
|일감 참여자가 계약서 생성 시도|PERMISSION_DENIED (작성자만 가능)|☐|
|중복 대화방 생성 (participantId + jobId 동일)|트랜잭션으로 방지|☐|
|중복 메시지 차단|클라이언트: 에러, Firestore: 규칙 차단|☐|
|Rate Limiting 우회 시도 (하루 20건 초과)|클라이언트: 차단, 서버: 추가 검증|☐|
|자신과의 대화방 생성 시도|Security Rules로 차단|☐|
|자신이 등록한 일감에 메시지 시도|클라이언트: 차단|☐|
|SQL Injection / XSS 시도|Firestore는 NoSQL이므로 자동 방어|☐|

### 6.4 Accessibility Testing

|Test Case|Requirement|Status|
|---|---|---|
|스크린 리더 (iOS VoiceOver, Android TalkBack)|모든 UI 요소 읽기 가능|☐|
|색상 대비|WCAG 2.1 AA 준수 (4.5:1)|☐|
|Dan-Gam Orange 대비 확인|배경과 충분한 대비|☐|
|폰트 크기 조정|시스템 폰트 크기 반영|☐|
|터치 영역|최소 48x48dp|☐|

---